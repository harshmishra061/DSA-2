// Recursive
class Solution {
    int climbStairsVariableJumps2(int curr, int& n, vector<int>& arr) {
        if(curr > n) return 0;
        if(curr == n) return 1;
        
        int countWays = 0;
        for(int j = 1; j <= arr[curr]; j++) {
            countWays += climbStairsVariableJumps2(curr + j, n, arr);
        }
        return countWays;
    }
public:
    int climbStairsVariableJumps(int n, vector<int>& arr) {
        return climbStairsVariableJumps2(0, n, arr);
    }
};

// Tabulation
class Solution {
public:
    int climbStairsVariableJumps(int n, vector<int>& arr) {
        vector<int> dp(n + 1, 0); ways to reach nth step from ith step
        dp[n] = 1; // ways to reach nth step from nth step
        for(int i = n - 1;i >= 0;i--) {
            for(int j = 1;j <= arr[i] && i + j < dp.size();j++) {
                dp[i] += dp[i + j];
            }
        }
        return dp[0];
    }
};
